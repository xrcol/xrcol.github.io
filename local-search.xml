<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>filter</title>
    <link href="/2023/02/20/Java-Web-%E5%BC%80%E5%8F%91%E8%AF%A6%E8%A7%A3/filter/"/>
    <url>/2023/02/20/Java-Web-%E5%BC%80%E5%8F%91%E8%AF%A6%E8%A7%A3/filter/</url>
    
    <content type="html"><![CDATA[<h2 id="Filterä½¿ç”¨æ–¹å¼å’Œåœºæ™¯"><a href="#Filterä½¿ç”¨æ–¹å¼å’Œåœºæ™¯" class="headerlink" title="Filterä½¿ç”¨æ–¹å¼å’Œåœºæ™¯"></a>Filterä½¿ç”¨æ–¹å¼å’Œåœºæ™¯</h2><h3 id="ä¸»è¦æ¥å£"><a href="#ä¸»è¦æ¥å£" class="headerlink" title="ä¸»è¦æ¥å£"></a>ä¸»è¦æ¥å£</h3><p>Filter: å¼€å‘è¿‡æ»¤å™¨éœ€è¦å®ç°è¯¥æ¥å£ï¼Œå®ç°initã€doFilterå’Œdestroyæ–¹æ³•</p><p>FilterCofig: åœ¨è¿‡æ»¤å™¨åˆå§‹åŒ–æ—¶ï¼Œä¼ é€’ä¿¡æ¯ï¼Œè°ƒç”¨getInitParameter(name)è·å–å‚æ•°çš„å€¼</p><p>FilterChain: è°ƒç”¨è¿‡æ»¤å™¨é“¾ä¸­çš„ä¸‹ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œå¦‚æœæ˜¯æœ€åä¸€ä¸ªï¼Œåˆ™è°ƒç”¨servletçš„serviceæ–¹æ³•</p><h3 id="è¿‡æ»¤å™¨çš„éƒ¨ç½²"><a href="#è¿‡æ»¤å™¨çš„éƒ¨ç½²" class="headerlink" title="è¿‡æ»¤å™¨çš„éƒ¨ç½²"></a>è¿‡æ»¤å™¨çš„éƒ¨ç½²</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">filter</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-class</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">filter-class</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">filter-mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">filter-name</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">filter-name</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- æˆ–è€…ç›´æ¥æŒ‡å®šservlet --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- requestã€includeã€forwardã€error --&gt;</span><br>    <span class="hljs-comment">&lt;!--request: ä¸æ˜¯requestdispatcherçš„includeå’Œforwardæ—¶ï¼Œæ‰è§¦å‘ --&gt;</span><br>    <span class="hljs-comment">&lt;!--include: requestdispatcher.includeè°ƒç”¨æ—¶ï¼Œæ‰è§¦å‘ --&gt;</span><br>    <span class="hljs-comment">&lt;!--forward: requestdispatcher.forwardè°ƒç”¨æ—¶ï¼Œæ‰è§¦å‘ --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dispatcher</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dispatcher</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">filter-mapping</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">TestFilter</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Filter</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">init</span><span class="hljs-params">(FilterConfig filterConfig)</span> <span class="hljs-keyword">throws</span> ServletException &#123;&#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">doFilter</span><span class="hljs-params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="hljs-keyword">throws</span> IOException, ServletException &#123;<br>        chain.doFilter(request, response);<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">destroy</span><span class="hljs-params">()</span> &#123;&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h3><h4 id="å¯¹è¯·æ±‚å’Œå“åº”æ•°æ®è¿›è¡Œæ›¿æ¢"><a href="#å¯¹è¯·æ±‚å’Œå“åº”æ•°æ®è¿›è¡Œæ›¿æ¢" class="headerlink" title="å¯¹è¯·æ±‚å’Œå“åº”æ•°æ®è¿›è¡Œæ›¿æ¢"></a>å¯¹è¯·æ±‚å’Œå“åº”æ•°æ®è¿›è¡Œæ›¿æ¢</h4><p>é€šè¿‡ç»§æ‰¿HttpServletRequestWrapperï¼Œå®šä¹‰è‡ªå·±çš„requestï¼Œå¹¶è¦†ç›–å…¶ä¸­çš„æ–¹æ³•ï¼Œæ¥å®ç°éœ€è¦çš„é€»è¾‘ï¼Œåœ¨chain.doFilteræ—¶ï¼Œä¼ é€’è‡ªå®šä¹‰çš„Requestå¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> MyRequestWrapper <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServletRequestWrapper</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyRequestWrapper</span> <span class="hljs-params">(HttpServletRequest request)</span> &#123;<br>        <span class="hljs-built_in">super</span>(request);<br>    &#125;<br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getQueryString</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;abc=123&quot;</span>;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">originQueryString</span> <span class="hljs-operator">=</span> <span class="hljs-built_in">super</span>.getQueryString();<br>        <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> != originQueryString) &#123;<br>            originQueryString += <span class="hljs-string">&quot;&amp;&quot;</span> + str;<br>            <span class="hljs-keyword">return</span> originQueryString;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">return</span> str;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>å¦‚æœè¦è·å–responseä¸­çš„æ•°æ®ï¼Œéœ€è¦è‡ªå®šä¹‰responseï¼Œå¹¶ä¸”ä½¿ç”¨ByteArrayOutputStreamï¼Œè®©æ•°æ®å†™åˆ°å­—èŠ‚æ•°ç»„ä¸­ï¼ŒåŒæ—¶é‡å†™HttpServletResponseç±»çš„getWriterå’ŒgetOutputStreamæ–¹æ³•ï¼Œè¿”å›ByteArrayOutputStreamçš„PrintWriterå’ŒServletOutputStreamå¯¹è±¡</p><h4 id="å…¶å®ƒåº”ç”¨åœºæ™¯"><a href="#å…¶å®ƒåº”ç”¨åœºæ™¯" class="headerlink" title="å…¶å®ƒåº”ç”¨åœºæ™¯"></a>å…¶å®ƒåº”ç”¨åœºæ™¯</h4><p>å¯¹ç”¨æˆ·è¯·æ±‚ç»Ÿä¸€è®¤è¯</p><p>å¯¹å“åº”å†…å®¹å‹ç¼©ï¼Œå‡å°‘ä¼ è¾“é‡</p><p>è½¬æ¢å›¾åƒæ ¼å¼</p>]]></content>
    
    
    <categories>
      
      <category>Java-Web-å¼€å‘è¯¦è§£é˜…è¯»ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2023/02/20/hello-world/"/>
    <url>/2023/02/20/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>é›†åˆå¼•ç”¨ç±»å‹</title>
    <link href="/2023/02/18/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/chapter-six/"/>
    <url>/2023/02/18/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/chapter-six/</url>
    
    <content type="html"><![CDATA[<h2 id="ç¬¬å…­ç« -é›†åˆå¼•ç”¨ç±»å‹"><a href="#ç¬¬å…­ç« -é›†åˆå¼•ç”¨ç±»å‹" class="headerlink" title="ç¬¬å…­ç«  é›†åˆå¼•ç”¨ç±»å‹"></a>ç¬¬å…­ç«  é›†åˆå¼•ç”¨ç±»å‹</h2><h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><h4 id="åˆ›å»ºæ•°ç»„"><a href="#åˆ›å»ºæ•°ç»„" class="headerlink" title="åˆ›å»ºæ•°ç»„"></a>åˆ›å»ºæ•°ç»„</h4><p>é€šè¿‡new æ–¹æ³•åˆ›å»º</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure><p>Array.fromå°†å¯è¿­ä»£ç»“æ„æˆ–è€…å­˜åœ¨lengthå±æ€§å’Œå¯ç´¢å¼•å…ƒç´ çš„ç»“æ„è½¬ä¸ºæ•°ç»„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>]<br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(a)<br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(a, <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * <span class="hljs-number">2</span>) <span class="hljs-comment">// ç¬¬äºŒä¸ªå‚æ•°å¢å¼ºæ–°æ•°ç»„</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(a, <span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> x * <span class="hljs-variable language_">this</span>.<span class="hljs-property">exponent</span>, &#123;<span class="hljs-attr">exponent</span>: <span class="hljs-number">2</span>&#125;) <span class="hljs-comment">// ç¬¬ä¸‰ä¸ªå‚æ•°æŒ‡å®šthisçš„å€¼</span><br></code></pre></td></tr></table></figure><p>Array.ofå°†ä¸€ç»„å‚æ•°ç»„åˆä¸ºæ•°ç»„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">of</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>)<br></code></pre></td></tr></table></figure><h3 id="åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„"><a href="#åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„" class="headerlink" title="åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„"></a>åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(value)<br></code></pre></td></tr></table></figure><h3 id="æ•°ç»„è¿­ä»£å™¨"><a href="#æ•°ç»„è¿­ä»£å™¨" class="headerlink" title="æ•°ç»„è¿­ä»£å™¨"></a>æ•°ç»„è¿­ä»£å™¨</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a  = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">of</span>(<span class="hljs-string">&quot;foo&quot;</span>, <span class="hljs-string">&quot;bar&quot;</span>, <span class="hljs-string">&quot;baz&quot;</span>)<br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(a.<span class="hljs-title function_">keys</span>()) <span class="hljs-comment">// [0, 1, 2]</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(a.<span class="hljs-title function_">values</span>()) <span class="hljs-comment">// [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;]</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(a.<span class="hljs-title function_">entries</span>()) <span class="hljs-comment">// [[0, &quot;foo&quot;], [1, &quot;bar&quot;], [2, &quot;baz&quot;]]</span><br></code></pre></td></tr></table></figure><h3 id="æ“ä½œæ–¹æ³•"><a href="#æ“ä½œæ–¹æ³•" class="headerlink" title="æ“ä½œæ–¹æ³•"></a>æ“ä½œæ–¹æ³•</h3><p>ä½¿ç”¨Symbol.isConcatSpreadable&#x3D;falseï¼Œæ¥ä½¿concatä¸ä¼šæ‰“å¹³æ•°ç»„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> alpha = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>];<br><span class="hljs-keyword">const</span> numeric = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-keyword">let</span> alphaNumeric = alpha.<span class="hljs-title function_">concat</span>(numeric);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(alphaNumeric);<br><span class="hljs-comment">// Expected output: Array [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, 1, 2, 3]</span><br><br>numeric[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">isConcatSpreadable</span>] = <span class="hljs-literal">false</span>;<br>alphaNumeric = alpha.<span class="hljs-title function_">concat</span>(numeric);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(alphaNumeric);<br><span class="hljs-comment">// Expected output: Array [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, [1, 2, 3]]</span><br></code></pre></td></tr></table></figure><p>sliceæ–¹æ³•ï¼Œåˆ›å»ºä¸€ä¸ªåŒ…å«åŸæ•°ç»„å…ƒç´ çš„æ–°æ•°ç»„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">slice</span>(start, end) <span class="hljs-comment">// å‚æ•°ä¸ºè´Ÿå€¼ï¼Œåˆ™å…¶å®é™…çš„å€¼ä¸ºæ•°ç»„é•¿åº¦åŠ ä¸Šè´Ÿå€¼</span><br><span class="hljs-keyword">const</span> nums = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br>nums.<span class="hljs-title function_">slice</span>(-<span class="hljs-number">2</span>, -<span class="hljs-number">1</span>) =&gt; nums.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>) =&gt; [ <span class="hljs-number">2</span> ]<br></code></pre></td></tr></table></figure><p>spliceæ–¹æ³•ï¼Œå¯¹åŸæ•°ç»„è¿›è¡Œæ·»åŠ &#x2F;åˆ é™¤å…ƒç´ </p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-title function_">splice</span>(start, deleteCount, insertElement)<br><span class="hljs-keyword">const</span> nums = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>nums.<span class="hljs-title function_">splice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>) <span class="hljs-comment">// nums: [3, 4, 5]</span><br>nums.<span class="hljs-title function_">splice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>) <span class="hljs-comment">// nums: [6, 7, 3, 4, 5]</span><br></code></pre></td></tr></table></figure><h3 id="è¿­ä»£æ–¹æ³•"><a href="#è¿­ä»£æ–¹æ³•" class="headerlink" title="è¿­ä»£æ–¹æ³•"></a>è¿­ä»£æ–¹æ³•</h3><p>every(): å¯¹æ•°ç»„æ¯ä¸€é¡¹éƒ½è¿è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œå¦‚æœæ¯ä¸€è¡Œå‡½æ•°è¿”å›trueï¼Œåˆ™è¿™ä¸ªæ–¹æ³•è¿”å›true</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> nums = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>]<br><span class="hljs-keyword">const</span> res = nums.<span class="hljs-title function_">every</span>(<span class="hljs-function">(<span class="hljs-params">item, index, array</span>) =&gt;</span> item &gt; <span class="hljs-number">2</span>) <span class="hljs-comment">// res: false</span><br></code></pre></td></tr></table></figure><p>filter(): å¯¹æ•°ç»„æ¯ä¸€é¡¹è¿è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œå‡½æ•°è¿”å›ä¸ºtrueçš„é¡¹ä¼šç»„æˆæ–°çš„æ•°ç»„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> nums = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>]<br><span class="hljs-keyword">const</span> res = nums.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item, index, array</span>) =&gt;</span> item &gt; <span class="hljs-number">2</span>) <span class="hljs-comment">// res: [3, 4, 5, 6, 7]</span><br></code></pre></td></tr></table></figure><p>map(): å¯¹æ•°ç»„æ¯ä¸€é¡¹è¿è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œè¿”å›ç”±æ¯æ¬¡å‡½æ•°è°ƒç”¨ç»“æœç»„æˆçš„æ•°ç»„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> nums = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>]<br><span class="hljs-keyword">const</span> res = nums.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index, array</span>) =&gt;</span> item * <span class="hljs-number">2</span>) <span class="hljs-comment">// res: [3, 4, 5, 6, 7]</span><br></code></pre></td></tr></table></figure><p>some(): å¯¹æ•°ç»„æ¯ä¸€é¡¹è¿è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œå¦‚æœæœ‰ä¸€é¡¹å‡½æ•°è¿”å›trueï¼Œåˆ™è¿™ä¸ªæ–¹æ³•è¿”å›true</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> nums = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>]<br><span class="hljs-keyword">const</span> res = nums.<span class="hljs-title function_">some</span>(<span class="hljs-function">(<span class="hljs-params">item, index, array</span>) =&gt;</span> item &gt; <span class="hljs-number">2</span>) <span class="hljs-comment">// res: true</span><br></code></pre></td></tr></table></figure><h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><h4 id="åŸºç¡€æ–¹æ³•"><a href="#åŸºç¡€æ–¹æ³•" class="headerlink" title="åŸºç¡€æ–¹æ³•"></a>åŸºç¡€æ–¹æ³•</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([<br>    [<span class="hljs-string">&quot;key1&quot;</span>, <span class="hljs-string">&quot;value1&quot;</span>],<br>    [<span class="hljs-string">&quot;key2&quot;</span>, <span class="hljs-string">&quot;value2&quot;</span>],<br>])<br>map.<span class="hljs-title function_">has</span>(<span class="hljs-string">&quot;key1&quot;</span>) <span class="hljs-comment">// true</span><br>map.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;key1&quot;</span>) <span class="hljs-comment">// value1</span><br>map.<span class="hljs-title function_">set</span>(<span class="hljs-string">&quot;key3&quot;</span>, <span class="hljs-string">&quot;value3&quot;</span>)<br>map.<span class="hljs-title function_">size</span>() <span class="hljs-comment">// 2</span><br>map.<span class="hljs-title function_">delete</span>(<span class="hljs-string">&quot;key1&quot;</span>)<br>map.<span class="hljs-title function_">clear</span>()<br><span class="hljs-comment">// è¿­ä»£</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> pair <span class="hljs-keyword">of</span> map.<span class="hljs-title function_">entries</span>()) &#123;&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">of</span> map.<span class="hljs-title function_">keys</span>()) &#123;&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> value <span class="hljs-keyword">of</span> map.<span class="hljs-title function_">values</span>()) &#123;&#125;<br>[...map] <span class="hljs-comment">// [[&quot;key1&quot;, &quot;value1&quot;], [&quot;key2&quot;, &quot;value2&quot;]]</span><br></code></pre></td></tr></table></figure><h4 id="Mapå’ŒObjectåŒºåˆ«"><a href="#Mapå’ŒObjectåŒºåˆ«" class="headerlink" title="Mapå’ŒObjectåŒºåˆ«"></a>Mapå’ŒObjectåŒºåˆ«</h4><ul><li>å†…å­˜å ç”¨ï¼Œå›ºå®šå¤§å°å†…å­˜ï¼ŒMapå¤§çº¦å¯ä»¥æ¯”Objectå¤šå­˜å‚¨50%çš„é”®å€¼å¯¹</li><li>æ’å…¥æ€§èƒ½ï¼Œæ¶ˆè€—å¤§è‡´ç›¸å½“ï¼Œä¸è¿‡Mapåœ¨æµè§ˆå™¨ä¸­ä¼šç¨å¾®å¿«ä¸€ç‚¹</li><li>æŸ¥æ‰¾é€Ÿåº¦ï¼Œå½“æŠŠObjectå½“ä½œæ•°ç»„ä½¿ç”¨ï¼ˆè¿ç»­æ•´æ•°ä½œä¸ºå±æ€§ï¼‰ï¼Œæµè§ˆå™¨ä¼šè¿›è¡Œä¼˜åŒ–ï¼ŒæŸ¥æ‰¾é€Ÿåº¦ä¼šå¿«ä¸€ç‚¹</li><li>åˆ é™¤æ€§èƒ½ï¼Œä½¿ç”¨Map</li></ul><h3 id="WeakMap"><a href="#WeakMap" class="headerlink" title="WeakMap"></a>WeakMap</h3><p>å¼±æ˜ å°„ä¸­çš„é”®åªèƒ½æ˜¯objectæˆ–è€…ç»§æ‰¿objectçš„ç±»å‹ï¼Œå¼±æ˜ å°„ä¸ä¼šé˜»æ­¢åƒåœ¾å›æ”¶ç¨‹åº</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> wm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>()<br><span class="hljs-keyword">const</span> key1 = &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>&#125;<br><span class="hljs-keyword">const</span> key2 = &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>&#125;<br>wm.<span class="hljs-title function_">has</span>(key1) <span class="hljs-comment">// false</span><br>wm.<span class="hljs-title function_">get</span>(key1) <span class="hljs-comment">// undefined</span><br>wm.<span class="hljs-title function_">set</span>(key1, <span class="hljs-string">&quot;test&quot;</span>)<br>wm.<span class="hljs-title function_">delete</span>(key1)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaScripté«˜çº§ç¨‹åºè®¾è®¡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>session-track</title>
    <link href="/2023/02/18/Java-Web-%E5%BC%80%E5%8F%91%E8%AF%A6%E8%A7%A3/session-track/"/>
    <url>/2023/02/18/Java-Web-%E5%BC%80%E5%8F%91%E8%AF%A6%E8%A7%A3/session-track/</url>
    
    <content type="html"><![CDATA[<h2 id="ä¼šè¯è·Ÿè¸ª"><a href="#ä¼šè¯è·Ÿè¸ª" class="headerlink" title="ä¼šè¯è·Ÿè¸ª"></a>ä¼šè¯è·Ÿè¸ª</h2><h3 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h3><h4 id="ä¼šè¯"><a href="#ä¼šè¯" class="headerlink" title="ä¼šè¯"></a>ä¼šè¯</h4><p>ä¿å­˜åˆ°æµè§ˆå™¨å†…å­˜ä¸­ï¼Œå…³é—­æµè§ˆå™¨åï¼Œä¸‹æ¬¡è®¿é—®æ—¶ï¼Œåˆä¼šåˆ›å»ºæ–°çš„sessionå’ŒsessionId</p><h4 id="ç¡¬ç›˜"><a href="#ç¡¬ç›˜" class="headerlink" title="ç¡¬ç›˜"></a>ç¡¬ç›˜</h4><p>ä¿å­˜åˆ°ç¡¬ç›˜ä¸­ï¼Œé€šè¿‡Cookie.setMaxAge(num),numä¸ºæ­£æ•°</p><h4 id="ç¦ç”¨Cookie"><a href="#ç¦ç”¨Cookie" class="headerlink" title="ç¦ç”¨Cookie"></a>ç¦ç”¨Cookie</h4><p>å½“å®¢æˆ·ç«¯ç¦ç”¨Cookieåï¼Œå¯ä»¥é€šè¿‡URLé‡å†™æœºåˆ¶æ¥è·Ÿè¸ªç”¨æˆ·ä¼šè¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// å°†sessionIDä½œä¸ºè¯·æ±‚çš„ä¸€éƒ¨åˆ†</span><br>response.encodeURL(path)<br>response.encodeRedirectURL(path)<br></code></pre></td></tr></table></figure><h4 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Cookie</span> <span class="hljs-variable">cookie</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cookie</span>(<span class="hljs-string">&quot;userinfo&quot;</span>, <span class="hljs-string">&quot;test&quot;</span>);<br>cookie.setMaxAge(<span class="hljs-number">1800</span>);<br>response.addCookie(cookie);<br>Cookie[] cookies = request.getCookies();<br></code></pre></td></tr></table></figure><h4 id="é…ç½®sessioné»˜è®¤è¶…æ—¶æ—¶é—´"><a href="#é…ç½®sessioné»˜è®¤è¶…æ—¶æ—¶é—´" class="headerlink" title="é…ç½®sessioné»˜è®¤è¶…æ—¶æ—¶é—´"></a>é…ç½®sessioné»˜è®¤è¶…æ—¶æ—¶é—´</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- åœ¨tomcatä¸­çš„web.xmlé…ç½® --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">session-config</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">session-timeout</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">session-timeout</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">session-config</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="HttpSessionBindingListener"><a href="#HttpSessionBindingListener" class="headerlink" title="HttpSessionBindingListener"></a>HttpSessionBindingListener</h3><p>å½“ä¸€ä¸ªå¯¹è±¡å®ç°äº†HttpSessionBindingListeneræ¥å£ï¼Œå½“è¿™ä¸ªå¯¹è±¡è¢«ç»‘å®šåˆ°Sessionä¸­æˆ–è€…ä»Sessionä¸­åˆ é™¤æ—¶ï¼ŒServletå®¹å™¨ä¼šé€šçŸ¥è¿™ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡æ”¶åˆ°é€šçŸ¥åï¼Œå¯ä»¥åšä¸€äº›å…¶å®ƒçš„æ“ä½œï¼ˆåœ¨çº¿äººæ•°ç»Ÿè®¡ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">HttpSessionBindingListener</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">valueBound</span><span class="hljs-params">(HttpSessionBindingListener event)</span> &#123;<br>        <span class="hljs-comment">// æ·»åŠ åˆ°Sessionä¸­æ—¶</span><br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">valueUnbound</span><span class="hljs-params">(HttpSessionBindingListener event)</span> &#123;<br>        <span class="hljs-comment">// ä»Sessionä¸­åˆ é™¤æ—¶</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Java-Web-å¼€å‘è¯¦è§£é˜…è¯»ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>servlet-basic</title>
    <link href="/2023/02/09/Java-Web-%E5%BC%80%E5%8F%91%E8%AF%A6%E8%A7%A3/servlet-basic/"/>
    <url>/2023/02/09/Java-Web-%E5%BC%80%E5%8F%91%E8%AF%A6%E8%A7%A3/servlet-basic/</url>
    
    <content type="html"><![CDATA[<h2 id="Java-Web-åŸºç¡€ğŸ˜€"><a href="#Java-Web-åŸºç¡€ğŸ˜€" class="headerlink" title="Java-Web-åŸºç¡€ğŸ˜€"></a>Java-Web-åŸºç¡€ğŸ˜€</h2><h3 id="éƒ¨ç½²Javaç¨‹åºåˆ°Tomcat"><a href="#éƒ¨ç½²Javaç¨‹åºåˆ°Tomcat" class="headerlink" title="éƒ¨ç½²Javaç¨‹åºåˆ°Tomcat"></a>éƒ¨ç½²Javaç¨‹åºåˆ°Tomcat</h3><h4 id="é™æ€éƒ¨ç½²ğŸˆ"><a href="#é™æ€éƒ¨ç½²ğŸˆ" class="headerlink" title="é™æ€éƒ¨ç½²ğŸˆ"></a>é™æ€éƒ¨ç½²ğŸˆ</h4><p>ç›´æ¥å°†ç¼–è¯‘åçš„é¡¹ç›®æ–‡ä»¶å¤¹æˆ–è€…waråŒ…æ”¾åˆ°webappsä¸­</p><h4 id="åŠ¨æ€éƒ¨ç½²ğŸˆ"><a href="#åŠ¨æ€éƒ¨ç½²ğŸˆ" class="headerlink" title="åŠ¨æ€éƒ¨ç½²ğŸˆ"></a>åŠ¨æ€éƒ¨ç½²ğŸˆ</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">Context</span> <span class="hljs-attr">path</span>=<span class="hljs-string">&quot;/test&quot;</span> <span class="hljs-attr">docBase</span>=<span class="hljs-string">&quot;project path&quot;</span> <span class="hljs-attr">reloadable</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><ul><li>ç›´æ¥å°†è¿™æ’å…¥åˆ°server.xmlä¸­hostèŠ‚ç‚¹ä¸­</li><li>%tomcat_home%&#x2F;conf&#x2F;enginename&#x2F;hostname&#x2F;ï¼Œåœ¨è¿™åˆ›å»ºå¯¹åº”é¡¹ç›®åçš„project-name.xmlï¼Œå¹¶å°†ä¸Šé¢å†…å®¹æ‹·è´åˆ°xmlä¸­(âš ï¸é¡¹ç›®çš„ä¸Šä¸‹æ–‡è·¯å¾„å°†ä»¥project-nameä¸ºå‡†ï¼Œä¸ContextèŠ‚ç‚¹çš„pathæ— å…³)</li></ul><h3 id="Servletè¯·æ±‚åŒ¹é…è§„åˆ™"><a href="#Servletè¯·æ±‚åŒ¹é…è§„åˆ™" class="headerlink" title="Servletè¯·æ±‚åŒ¹é…è§„åˆ™"></a>Servletè¯·æ±‚åŒ¹é…è§„åˆ™</h3><p>é‡‡ç”¨æœ€é•¿åŒ¹é…ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„åˆ™è°ƒç”¨å®¹å™¨é»˜è®¤çš„servletå¤„ç†ï¼Œæ²¡æœ‰é…ç½®é»˜è®¤çš„servletï¼Œåˆ™å‘é€HTTP404æ¶ˆæ¯</p><h3 id="çº¿ç¨‹å®‰å…¨çš„Servlet"><a href="#çº¿ç¨‹å®‰å…¨çš„Servlet" class="headerlink" title="çº¿ç¨‹å®‰å…¨çš„Servlet"></a>çº¿ç¨‹å®‰å…¨çš„Servlet</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œservletæ˜¯å¤šçº¿ç¨‹çš„ï¼Œå³ä¸€ä¸ªservletå®ä¾‹åœ¨å¤šä¸ªçº¿ç¨‹ä¸­åŒæ—¶æ‰§è¡Œï¼Œå¹¶å‘åœ°å¤„ç†å¤šä¸ªå®¢æˆ·ç«¯è¯·æ±‚</p><center>å¤šçº¿ç¨‹çš„servletæ‰§è¡Œæ¨¡å‹</center><pre><code class=" mermaid">flowchart LR    subgraph se [servletå®¹å™¨]        direction LR        sq[è°ƒåº¦è€…çº¿ç¨‹]--&gt; ci((å·¥ä½œè€…çº¿ç¨‹æ± ))        ci--&quot;service()&quot;--&gt; ro1(ServletAçš„å®ä¾‹)        ci--&quot;service()&quot;--&gt; ro2(ServletBçš„å®ä¾‹)        ci--&quot;service()&quot;--&gt; ro3(ServletCçš„å®ä¾‹)    end    å®¢æˆ·ç«¯è¯·æ±‚ --&gt; se</code></pre><h4 id="å˜é‡çš„çº¿ç¨‹å®‰å…¨"><a href="#å˜é‡çš„çº¿ç¨‹å®‰å…¨" class="headerlink" title="å˜é‡çš„çº¿ç¨‹å®‰å…¨"></a>å˜é‡çš„çº¿ç¨‹å®‰å…¨</h4><p>å¯¹äºå®ä¾‹å˜é‡çš„è®¿é—®ï¼Œéœ€è¦è€ƒè™‘å¹¶å‘çš„æƒ…å†µï¼ŒåŒæ—¶å¯¹äºconnectionåœ¨close()åï¼Œå°†å…¶è®¾ç½®ä¸ºnullï¼Œé¿å…åœ¨Connection Closed Exception</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> TestServlet <span class="hljs-keyword">extends</span> <span class="hljs-title class_">HttpServlet</span> &#123;<br>    <span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">service</span><span class="hljs-params">(req, res)</span> &#123;<br>        <span class="hljs-type">Connection</span> <span class="hljs-variable">conn</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br>            conn = ds.getConnection();<br>            conn.close();<br>            conn = <span class="hljs-literal">null</span>; <span class="hljs-comment">// ç¡®ä¿ä¸ä¼šå…³é—­ä¸¤æ¬¡,é¿å…å¹¶å‘æ—¶å‡ºç°é—®é¢˜</span><br>        &#125; <span class="hljs-keyword">finally</span> &#123;<br>            <span class="hljs-keyword">if</span> (conn != <span class="hljs-literal">null</span>) &#123;<br>                <span class="hljs-keyword">try</span> &#123;<br>                    conn.close();<br>                &#125; <span class="hljs-keyword">catch</span>(Exception e) &#123;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="å±æ€§çš„çº¿ç¨‹å®‰å…¨"><a href="#å±æ€§çš„çº¿ç¨‹å®‰å…¨" class="headerlink" title="å±æ€§çš„çº¿ç¨‹å®‰å…¨"></a>å±æ€§çš„çº¿ç¨‹å®‰å…¨</h4><ul><li>ServletContext: å¯ä»¥è¢«Webåº”ç”¨ç¨‹åºä¸­æ‰€æœ‰servletè®¿é—®ï¼Œçº¿ç¨‹ä¸å®‰å…¨</li><li>HttpSession: åŒå±äºä¸€ä¸ªè¿›ç¨‹çš„æµè§ˆå™¨çª—å£ï¼Œè¿™äº›çª—å£çš„è®¿é—®è¯·æ±‚ï¼Œå±äºåŒä¸€ä¸ªsessionï¼Œä¸ºäº†å¤„ç†è¿™äº›è¯·æ±‚ï¼ŒServletå®¹å™¨ä¼šåˆ›å»ºå¤šä¸ªçº¿ç¨‹å¤„ç†ï¼Œçº¿ç¨‹ä¸å®‰å…¨</li><li>ServletRequest: Servletå¯¹äºæ¥å—åˆ°çš„æ¯ä¸€ä¸ªè¯·æ±‚ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ServletRequestå¯¹è±¡ï¼Œåªèƒ½ä¸€ä¸ªçº¿ç¨‹èƒ½è®¿é—®å½“å‰çš„requestï¼Œçº¿ç¨‹å®‰å…¨</li></ul>]]></content>
    
    
    <categories>
      
      <category>Java-Web-å¼€å‘è¯¦è§£é˜…è¯»ç¬”è®°</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>basic</title>
    <link href="/2023/02/07/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/basic/"/>
    <url>/2023/02/07/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/basic/</url>
    
    <content type="html"><![CDATA[<h2 id="Basic-Syntax"><a href="#Basic-Syntax" class="headerlink" title="Basic Syntax"></a>Basic Syntax</h2><h3 id="let-and-const-hoisted"><a href="#let-and-const-hoisted" class="headerlink" title="let and const hoisted"></a>let and const hoisted</h3><p>å˜é‡çš„æ„é€ å¤§è‡´å¯ä»¥åˆ†ä¸º3ä¸ªé˜¶æ®µï¼šåˆ›å»ºã€åˆå§‹åŒ–å’Œèµ‹å€¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">fuction <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">var</span> y = <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-title function_">fn</span>();<br></code></pre></td></tr></table></figure><p>xå’Œyçš„å£°æ˜è¿‡ç¨‹ï¼š</p><ul><li>è¿›å…¥fnï¼Œä¸ºfnåˆ›å»ºä¸€ä¸ªæ‰§è¡Œç¯å¢ƒ</li><li>æ‰¾åˆ°ç¯å¢ƒä¸­æ‰€æœ‰varå£°æ˜çš„å˜é‡ï¼Œåˆ›å»ºå˜é‡å</li><li>å¯¹è¿™äº›å˜é‡åˆå§‹åŒ–ä¸ºundefined</li><li>å¼€å§‹æ‰§è¡Œä»£ç </li><li>å°†xè®¾ç½®ä¸º1ï¼Œyè®¾ç½®ä¸º1</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> x = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">let</span> y = <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-title function_">fn</span>();<br></code></pre></td></tr></table></figure><p>xå’Œyçš„å£°æ˜è¿‡ç¨‹ï¼š</p><ul><li>è¿›å…¥fnï¼Œä¸ºfnåˆ›å»ºä¸€ä¸ªæ‰§è¡Œç¯å¢ƒ</li><li>æ‰¾åˆ°ç¯å¢ƒä¸­æ‰€æœ‰letå£°æ˜çš„å˜é‡ï¼Œåˆ›å»ºå˜é‡å</li><li>å¼€å§‹æ‰§è¡Œä»£ç </li><li>å°†xè®¾ç½®ä¸º1ï¼Œè¿™ä¸æ˜¯èµ‹å€¼ï¼Œè€Œæ˜¯åˆå§‹åŒ–ï¼ˆå¦‚æœä¸ºlet xï¼Œåˆ™å°†xåˆå§‹åŒ–ä¸ºundefinedï¼‰</li></ul>]]></content>
    
    
    <categories>
      
      <category>JavaScripté«˜çº§ç¨‹åºè®¾è®¡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>script</title>
    <link href="/2023/02/07/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/script/"/>
    <url>/2023/02/07/JavaScript%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1/script/</url>
    
    <content type="html"><![CDATA[<h2 id="ScriptåŠ è½½"><a href="#ScriptåŠ è½½" class="headerlink" title="ScriptåŠ è½½"></a>ScriptåŠ è½½</h2><h3 id="å¼‚æ­¥åŠ è½½"><a href="#å¼‚æ­¥åŠ è½½" class="headerlink" title="å¼‚æ­¥åŠ è½½"></a>å¼‚æ­¥åŠ è½½</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script <span class="hljs-keyword">async</span> src=<span class="hljs-string">&#x27;test.js&#x27;</span>&gt;&lt;/script&gt;<br></code></pre></td></tr></table></figure><h3 id="å»¶è¿ŸåŠ è½½"><a href="#å»¶è¿ŸåŠ è½½" class="headerlink" title="å»¶è¿ŸåŠ è½½"></a>å»¶è¿ŸåŠ è½½</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;script defer src=<span class="hljs-string">&#x27;test.js&#x27;</span>&gt;&lt;/script&gt;<br></code></pre></td></tr></table></figure><h3 id="åŒæ­¥åŠ è½½"><a href="#åŒæ­¥åŠ è½½" class="headerlink" title="åŒæ­¥åŠ è½½"></a>åŒæ­¥åŠ è½½</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// è®¾ç½®asyncä¸ºfalseæ¥å®ç°åŒæ­¥åŠ è½½</span><br><span class="hljs-keyword">let</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;script&#x27;</span>)<br>script.<span class="hljs-property">src</span> = <span class="hljs-string">&#x27;test.js&#x27;</span><br>script.<span class="hljs-property">async</span> = <span class="hljs-literal">false</span><br><span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(script)<br></code></pre></td></tr></table></figure><table><thead><tr><th align="center">difference</th><th align="center">async</th><th align="center">defer</th></tr></thead><tbody><tr><td align="center">block page loading</td><td align="center">no</td><td align="center">no</td></tr><tr><td align="center">execute by insert order</td><td align="center">no</td><td align="center">yes</td></tr><tr><td align="center">rely on the DOM</td><td align="center">no</td><td align="center">yes</td></tr></tbody></table><p> <img src="https://html.spec.whatwg.org/images/asyncdefer.svg" alt="script"></p><h3 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h3><p><strong>async</strong>ä¸‹è½½å®Œåç«‹å³æ‰§è¡Œï¼Œé€‚ç”¨äºè¦å°½å¯èƒ½å¿«çš„æ‰§è¡Œè„šæœ¬</p><p><strong>defer</strong>ä¸‹è½½å®Œåä¹Ÿéœ€è¦ç­‰åˆ°æ–‡æ¡£è§£æå®Œæ‰§è¡Œï¼Œé€‚ç”¨äºè„šæœ¬ä¸­éœ€è¦æ“ä½œDOM</p><h3 id="é¢„åŠ è½½"><a href="#é¢„åŠ è½½" class="headerlink" title="é¢„åŠ è½½"></a>é¢„åŠ è½½</h3><p>ä¸ä¼šæ‰§è¡Œï¼Œåªæ˜¯ä¸‹è½½å’Œç¼“å­˜</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;link rel=<span class="hljs-string">&#x27;preload&#x27;</span> href=<span class="hljs-string">&#x27;test.js&#x27;</span> <span class="hljs-keyword">as</span>=<span class="hljs-string">&#x27;script&#x27;</span> /&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&#x27;preload&#x27;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&#x27;test.css&#x27;</span> <span class="hljs-attr">as</span>=<span class="hljs-string">&#x27;stylesheet&#x27;</span> /&gt;</span></span><br></code></pre></td></tr></table></figure><h3 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h3><p>[1] <a href="https://html.spec.whatwg.org/multipage/scripting.html#attr-script-defer/">https://html.spec.whatwg.org/multipage/scripting.html#attr-script-defer/</a></p>]]></content>
    
    
    <categories>
      
      <category>JavaScripté«˜çº§ç¨‹åºè®¾è®¡</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
